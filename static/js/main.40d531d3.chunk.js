(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__1mobB",picture:"PhotoCard_picture__85hCO","image-container":"PhotoCard_image-container__2Mw_i"}},21:function(e,t,a){e.exports={photoGallery:"Gallery_photoGallery__3ZEpo"}},23:function(e,t,a){e.exports=a(51)},28:function(e,t,a){},29:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),i=(a(28),a(2)),s=a(3),l=a(5),h=a(4),p=a(6),u=(a(29),a(18)),m=a.n(u),d=a(19),f=a(10),g=a(20),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={picSize:"_t.jpg"},a.setImageSrc=function(){a.setState({picSize:"_b.jpg"})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.photo&&o.a.createElement("div",{className:f.photoCard},o.a.createElement("div",{className:"image-container"},o.a.createElement(g.LazyLoadImage,{className:f.picture,src:"".concat(this.props.photo.src).concat(this.state.picSize),afterLoad:this.setImageSrc,alt:"flickr-pic",effect:"blur",threshold:"100"})),o.a.createElement("div",null,o.a.createElement("p",null,this.props.photo.title))))}}]),t}(n.Component),b=a(21),E=function(e){return o.a.createElement("div",{className:b.photoGallery},e.photos.length>0&&e.photos.map(function(e){return o.a.createElement(v,{photo:e,key:"card-photo-".concat(e.id)})}))},_=function(e){return o.a.createElement("input",{className:"searchBox",name:"searchInput",onChange:function(t){return e.onSearch(t.target.value)}})},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={photoSearchResult:[],searchInput:"Amsterdam"},a.handleChange=Object(d.debounce)(function(e){a.setState({searchInput:e}),a.loadPhotos()},500),a.componentDidMount=function(){return a.loadPhotos()},a.loadPhotos=function(){m()({method:"get",url:"".concat("https://api.flickr.com/services/rest/","?method=").concat(a.state.searchInput?"flickr.photos.search":"flickr.photos.getRecent","&api_key=").concat("630045465dfbe44cc0e3c96b20164ccb","&tags=").concat(a.state.searchInput,"&sort=relevance&safe_search=1&format=json&nojsoncallback=1")}).then(function(e){console.log(e.data);var t=e.data.photos.photo.map(function(e){return{id:e.id,title:e.title,src:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret)}});a.setState({photoSearchResult:t})}).catch(function(e){return console.log(e)})},a.componentWillUnmount=function(){return a.handleChange.cancel()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",null,o.a.createElement("h1",null,"Flickr search"),o.a.createElement(_,{onSearch:this.handleChange})),o.a.createElement(E,{photos:this.state.photoSearchResult})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(22);a.n(k).a.config(),r.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.40d531d3.chunk.js.map